{% from "nhsuk/macros/attributes.njk" import nhsukAttributes -%}
{% from "nhsuk/components/skip-link/macro.njk" import skipLink -%}
{% from "nhsuk/components/header/macro.njk" import header -%}
{% from "nhsuk/components/footer/macro.njk" import footer -%}

<!-- components -->
{%- from 'action-link/macro.njk' import actionLink %}
{%- from 'back-link/macro.njk' import backLink %}
{%- from 'breadcrumb/macro.njk' import breadcrumb %}
{%- from 'button/macro.njk' import button %}
{%- from 'card/macro.njk' import card %}
{%- from 'character-count/macro.njk' import characterCount %}
{%- from 'checkboxes/macro.njk' import checkboxes %}
{%- from 'contents-list/macro.njk' import contentsList %}
{%- from 'date-input/macro.njk' import dateInput %}
{%- from 'details/macro.njk' import details %}
{%- from 'do-dont-list/macro.njk' import list %}
{%- from 'error-message/macro.njk' import errorMessage %}
{%- from 'error-summary/macro.njk' import errorSummary %}
{%- from 'fieldset/macro.njk' import fieldset %}
{%- from 'header/macro.njk' import header %}
{%- from 'hero/macro.njk' import hero %}
{%- from 'hint/macro.njk' import hint %}
{%- from 'images/macro.njk' import image %}
{%- from 'input/macro.njk' import input %}
{%- from 'inset-text/macro.njk' import insetText %}
{%- from 'label/macro.njk' import label %}
{%- from 'notification-banner/macro.njk' import notificationBanner %}
{%- from 'pagination/macro.njk' import pagination %}
{%- from 'panel/macro.njk' import panel with context %}
{%- from 'radios/macro.njk' import radios %}
{%- from 'select/macro.njk' import select %}
{%- from 'skip-link/macro.njk' import skipLink %}
{%- from 'summary-list/macro.njk' import summaryList %}
{%- from 'tables/macro.njk' import table %}
{%- from 'tabs/macro.njk' import tabs %}
{%- from 'tag/macro.njk' import tag %}
{%- from 'task-list/macro.njk' import taskList %}
{%- from 'textarea/macro.njk' import textarea %}
{%- from 'warning-callout/macro.njk' import warningCallout %}

{% set assetPath = '/nhsuk-frontend/assets' %}

{% set assetPath = assetPath | default("/assets", true) -%}
{% set themeColor = themeColor | default("#005eb8", true) -%}

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>{% block pageTitle %}NHS{% endblock %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
        <meta name="theme-color" content="{{ themeColor }}">
    
        {% block headIcons %}
        <link rel="icon" href="{{ assetPath }}/images/favicon.ico" sizes="48x48">
        <link rel="icon" href="{{ assetPath }}/images/favicon.svg" sizes="any" type="image/svg+xml">
        <link rel="mask-icon" href="{{ assetPath }}/images/nhsuk-icon-mask.svg" color="{{ themeColor }}">
        <link rel="apple-touch-icon" href="{{ assetPath }}/images/nhsuk-icon-180.png">
        <link rel="manifest" href="{{ assetPath }}/manifest.json">
        {% endblock %}
    
        {% block head %}{% endblock %}
    
        {#- Open Graph image needs an absolute URL, so need either a URL for image or assetUrl to be set #}
        {% if opengraphImageUrl or assetUrl %}
        <meta property="og:image" content="{{ opengraphImageUrl | default(assetUrl + "/images/nhsuk-opengraph-image.png", true) }}">
        {% endif %}
      </head>

      <body {% if bodyClasses %}class="{{ bodyClasses }}"{% endif %} {{- nhsukAttributes(bodyAttributes) }}>
        <script>document.body.className += ' js-enabled' + ('noModule' in HTMLScriptElement.prototype ? ' nhsuk-frontend-supported' : '');</script>        
        {% block bodyStart %}{% endblock %}

        {% block skipLink %}
        {{ skipLink({
        href: '#maincontent',
        text: 'Skip to main content'
        }) }}
        {% endblock %}

        {% block header %}
        {{ header({}) }}
        {% endblock %}

        <div class="nhsuk-width-container">
            {% block beforeContent %}{% endblock %}
        </div>

        {% block main %}
        <main class="nhsuk-main-wrapper {{ mainClasses }} {{activePage}} nhsuk-u-padding-top-0" id="maincontent" role="main">            
            {% block heroContent %}{% endblock %}
            <div class="nhsuk-width-container {{ containerClasses }}">                
                {% block content %}{% endblock %}
            </div>
        </main>
        {% endblock %}

        {% block footer %}
        {{ footer() }}
        {% endblock %}

        {% block bodyEnd %}{% endblock %}
    </body>
</html>